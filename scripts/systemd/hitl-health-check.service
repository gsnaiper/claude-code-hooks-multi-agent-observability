[Unit]
Description=HITL Health Check Service
After=network.target
Documentation=https://github.com/your-org/claude-code-hooks-multi-agent-observability

[Service]
Type=oneshot
User=your-user
Group=your-group
WorkingDirectory=/path/to/claude-code-hooks-multi-agent-observability

# Environment variables
Environment="HITL_SERVER_URL=http://localhost:4000"
# Environment="TELEGRAM_BOT_TOKEN=your-bot-token"
# Environment="TELEGRAM_CHAT_ID=your-chat-id"

# Or load from environment file
# EnvironmentFile=/etc/hitl-health-check.env

# Execute health check
ExecStart=/usr/bin/bun scripts/hitl-health-check.ts

# Logging
StandardOutput=journal
StandardError=journal
SyslogIdentifier=hitl-health-check

# Security hardening (optional)
NoNewPrivileges=true
PrivateTmp=true
ProtectSystem=strict
ProtectHome=read-only
ReadWritePaths=/var/log/hitl

[Install]
WantedBy=multi-user.target
